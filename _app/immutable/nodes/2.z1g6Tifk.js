var Dt=Object.defineProperty;var ut=t=>{throw TypeError(t)};var Ht=(t,e,r)=>e in t?Dt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var se=(t,e,r)=>Ht(t,typeof e!="symbol"?e+"":e,r),qt=(t,e,r)=>e.has(t)||ut("Cannot "+r);var M=(t,e,r)=>(qt(t,e,"read from private field"),r?r.call(t):e.get(t)),H=(t,e,r)=>e.has(t)?ut("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r);import{w as Xt,t as U,c as S,k as $e,n as Yt,f as Kt,l as ft}from"../chunks/BEbwrmb8.js";import{i as Jt}from"../chunks/6ToAozrt.js";import{s as Be,h as le,g as Qt,v as Zt,a as er,b as tr,I as L,a2 as He,H as rr,r as ht,c as Ve,f as ge,m as or,d as At,e as Tt,p as sr,au as Et,t as Rt,$ as ar,a5 as nr,V as qe,av as We,ac as Mt,y as Oe,aw as Ze,ax as ir,ay as et,az as gt,aA as lr,q as cr,aB as dr,ae as ur,aC as fr,k as hr,E as gr,aD as pr,aE as mr,ap as br,aF as vr,aG as wr,aH as xr,aI as yr,ad as pe,ai as pt,aj as mt,ak as _r,C as kr,X as q,as as K,w as tt,O as j,P as O,N as X,z as rt,M as J,Q as R,ab as bt}from"../chunks/B3YhPM-y.js";import{a as Ir,s as ce}from"../chunks/XXgESAa2.js";import{i as de}from"../chunks/BUk6uwY3.js";import{d as ot,b as Ne,a as je,c as Ge,r as St,s as ee}from"../chunks/gpnNPRkD.js";import{a as B,p as Fe,r as st}from"../chunks/m5Ih5YCO.js";function zr(t,e,r,o){for(var s=[],n=e.length,a=0;a<n;a++)lr(e[a].e,s,!0);var l=n>0&&s.length===0&&r!==null;if(l){var d=r.parentNode;cr(d),d.append(r),o.clear(),oe(t,e[0].prev,e[n-1].next)}dr(s,()=>{for(var c=0;c<n;c++){var i=e[c];l||(o.delete(i.k),oe(t,i.prev,i.next)),ur(i.e,!l)}})}function vt(t,e,r,o,s,n=null){var a=t,l={flags:e,items:new Map,first:null},d=(e&Et)!==0;if(d){var c=t;a=le?Be(Qt(c)):c.appendChild(Zt())}le&&er();var i=null,y=!1,u=He(()=>{var g=r();return ar(g)?g:g==null?[]:Rt(g)});tr(()=>{var g=L(u),h=g.length;if(y&&h===0)return;y=h===0;let w=!1;if(le){var z=a.data===rr;z!==(h===0)&&(a=ht(),Be(a),Ve(!1),w=!0)}if(le){for(var k=null,I,x=0;x<h;x++){if(ge.nodeType===8&&ge.data===or){a=ge,w=!0,Ve(!1);break}var b=g[x],_=o(b,x);I=Ft(ge,l,k,null,b,_,x,s,e,r),l.items.set(_,I),k=I}h>0&&Be(ht())}le||Cr(g,l,a,s,e,o,r),n!==null&&(h===0?i?At(i):i=Tt(()=>n(a)):i!==null&&sr(i,()=>{i=null})),w&&Ve(!0),L(u)}),le&&(a=ge)}function Cr(t,e,r,o,s,n,a){var V,W,T,Z;var l=(s&ir)!==0,d=(s&(et|Ze))!==0,c=t.length,i=e.items,y=e.first,u=y,g,h=null,w,z=[],k=[],I,x,b,_;if(l)for(_=0;_<c;_+=1)I=t[_],x=n(I,_),b=i.get(x),b!==void 0&&((V=b.a)==null||V.measure(),(w??(w=new Set)).add(b));for(_=0;_<c;_+=1){if(I=t[_],x=n(I,_),b=i.get(x),b===void 0){var f=u?u.e.nodes_start:r;h=Ft(f,e,h,h===null?e.first:h.next,I,x,_,o,s,a),i.set(x,h),z=[],k=[],u=h.next;continue}if(d&&Pr(b,I,_,s),(b.e.f&We)!==0&&(At(b.e),l&&((W=b.a)==null||W.unfix(),(w??(w=new Set)).delete(b))),b!==u){if(g!==void 0&&g.has(b)){if(z.length<k.length){var v=k[0],A;h=v.prev;var F=z[0],D=z[z.length-1];for(A=0;A<z.length;A+=1)wt(z[A],v,r);for(A=0;A<k.length;A+=1)g.delete(k[A]);oe(e,F.prev,D.next),oe(e,h,F),oe(e,D,v),u=v,h=D,_-=1,z=[],k=[]}else g.delete(b),wt(b,u,r),oe(e,b.prev,b.next),oe(e,b,h===null?e.first:h.next),oe(e,h,b),h=b;continue}for(z=[],k=[];u!==null&&u.k!==x;)(u.e.f&We)===0&&(g??(g=new Set)).add(u),k.push(u),u=u.next;if(u===null)continue;b=u}z.push(b),h=b,u=b.next}if(u!==null||g!==void 0){for(var $=g===void 0?[]:Rt(g);u!==null;)(u.e.f&We)===0&&$.push(u),u=u.next;var Q=$.length;if(Q>0){var Y=(s&Et)!==0&&c===0?r:null;if(l){for(_=0;_<Q;_+=1)(T=$[_].a)==null||T.measure();for(_=0;_<Q;_+=1)(Z=$[_].a)==null||Z.fix()}zr(e,$,Y,i)}}l&&Mt(()=>{var E;if(w!==void 0)for(b of w)(E=b.a)==null||E.apply()}),Oe.first=e.first&&e.first.e,Oe.last=h&&h.e}function Pr(t,e,r,o){(o&et)!==0&&gt(t.v,e),(o&Ze)!==0?gt(t.i,r):t.i=r}function Ft(t,e,r,o,s,n,a,l,d,c){var i=(d&et)!==0,y=(d&fr)===0,u=i?y?nr(s):qe(s):s,g=(d&Ze)===0?a:qe(a),h={i:g,v:u,k:n,a:null,e:null,prev:r,next:o};try{return h.e=Tt(()=>l(t,u,g,c),le),h.e.prev=r&&r.e,h.e.next=o&&o.e,r===null?e.first=h:(r.next=h,r.e.next=h.e),o!==null&&(o.prev=h,o.e.prev=h.e),h}finally{}}function wt(t,e,r){for(var o=t.next?t.next.e.nodes_start:r,s=e?e.e.nodes_start:r,n=t.e.nodes_start;n!==o;){var a=hr(n);s.before(n),n=a}}function oe(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const Ar=()=>performance.now(),te={tick:t=>requestAnimationFrame(t),now:()=>Ar(),tasks:new Set};function Ot(){const t=te.now();te.tasks.forEach(e=>{e.c(t)||(te.tasks.delete(e),e.f())}),te.tasks.size!==0&&te.tick(Ot)}function Tr(t){let e;return te.tasks.size===0&&te.tick(Ot),{promise:new Promise(r=>{te.tasks.add(e={c:t,f:r})}),abort(){te.tasks.delete(e)}}}function Me(t,e){Xt(()=>{t.dispatchEvent(new CustomEvent(e))})}function Er(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(r=>r[0].toUpperCase()+r.slice(1)).join("")}function xt(t){const e={},r=t.split(";");for(const o of r){const[s,n]=o.split(":");if(!s||n===void 0)break;const a=Er(s.trim());e[a]=n.trim()}return e}const Rr=t=>t;function yt(t,e,r,o){var s=(t&wr)!==0,n=(t&xr)!==0,a=s&&n,l=(t&vr)!==0,d=a?"both":s?"in":"out",c,i=e.inert,y=e.style.overflow,u,g;function h(){var x=_r,b=Oe;pt(null),mt(null);try{return c??(c=r()(e,(o==null?void 0:o())??{},{direction:d}))}finally{pt(x),mt(b)}}var w={is_global:l,in(){var x;if(e.inert=i,!s){g==null||g.abort(),(x=g==null?void 0:g.reset)==null||x.call(g);return}n||u==null||u.abort(),Me(e,"introstart"),u=Xe(e,h(),g,1,()=>{Me(e,"introend"),u==null||u.abort(),u=c=void 0,e.style.overflow=y})},out(x){if(!n){x==null||x(),c=void 0;return}e.inert=!0,Me(e,"outrostart"),g=Xe(e,h(),u,0,()=>{Me(e,"outroend"),x==null||x()})},stop:()=>{u==null||u.abort(),g==null||g.abort()}},z=Oe;if((z.transitions??(z.transitions=[])).push(w),s&&Ir){var k=l;if(!k){for(var I=z.parent;I&&(I.f&gr)!==0;)for(;(I=I.parent)&&(I.f&pr)===0;);k=!I||(I.f&mr)!==0}k&&br(()=>{kr(()=>w.in())})}}function Xe(t,e,r,o,s){var n=o===1;if(yr(e)){var a,l=!1;return Mt(()=>{if(!l){var z=e({direction:n?"in":"out"});a=Xe(t,z,r,o,s)}}),{abort:()=>{l=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(r==null||r.deactivate(),!(e!=null&&e.duration))return s(),{abort:pe,deactivate:pe,reset:pe,t:()=>o};const{delay:d=0,css:c,tick:i,easing:y=Rr}=e;var u=[];if(n&&r===void 0&&(i&&i(0,1),c)){var g=xt(c(0,1));u.push(g,g)}var h=()=>1-o,w=t.animate(u,{duration:d});return w.onfinish=()=>{var z=(r==null?void 0:r.t())??1-o;r==null||r.abort();var k=o-z,I=e.duration*Math.abs(k),x=[];if(I>0){var b=!1;if(c)for(var _=Math.ceil(I/16.666666666666668),f=0;f<=_;f+=1){var v=z+k*y(f/_),A=xt(c(v,1-v));x.push(A),b||(b=A.overflow==="hidden")}b&&(t.style.overflow="hidden"),h=()=>{var F=w.currentTime;return z+k*y(F/I)},i&&Tr(()=>{if(w.playState!=="running")return!1;var F=h();return i(F,1-F),!0})}w=t.animate(x,{duration:I,fill:"forwards"}),w.onfinish=()=>{h=()=>o,i==null||i(o,1-o),s()}},{abort:()=>{w&&(w.cancel(),w.effect=null,w.onfinish=pe)},deactivate:()=>{s=pe},reset:()=>{o===0&&(i==null||i(1,0))},t:()=>h()}}function Mr(t){var e=qe(0);return function(){return arguments.length===1?(q(e,L(e)+1),arguments[0]):(L(e),t())}}var be,ve,we,xe,ye,_e,ke,Ie,ze,Ce,Pe;class Sr{constructor(){H(this,be,K(0));H(this,ve,K(0));H(this,we,K("Wianek w Ogrodzie"));H(this,xe,K("#FFFFFF"));H(this,ye,K(20));H(this,_e,K(90));H(this,ke,K(0));H(this,Ie,K(B({})));H(this,ze,K(B({})));H(this,Ce,K(B({})));H(this,Pe,K(B({})))}get x(){return L(M(this,be))}set x(e){q(M(this,be),B(e))}get y(){return L(M(this,ve))}set y(e){q(M(this,ve),B(e))}get watermarkText(){return L(M(this,we))}set watermarkText(e){q(M(this,we),B(e))}get textColor(){return L(M(this,xe))}set textColor(e){q(M(this,xe),B(e))}get textSize(){return L(M(this,ye))}set textSize(e){q(M(this,ye),B(e))}get textOpacity(){return L(M(this,_e))}set textOpacity(e){q(M(this,_e),B(e))}get rotation(){return L(M(this,ke))}set rotation(e){q(M(this,ke),B(e))}get selectedFiles(){return L(M(this,Ie))}set selectedFiles(e){q(M(this,Ie),B(e))}get processedImages(){return L(M(this,ze))}set processedImages(e){q(M(this,ze),B(e))}get processingImages(){return L(M(this,Ce))}set processingImages(e){q(M(this,Ce),B(e))}get errorProcessingImages(){return L(M(this,Pe))}set errorProcessingImages(e){q(M(this,Pe),B(e))}selectFiles(e){if(!e)return;Array.from(e).forEach(o=>{const s=crypto.randomUUID(),n={...this.selectedFiles,[s]:o};this.selectedFiles=n})}processImages(e){this.processedImages={},Object.entries(this.selectedFiles).forEach(r=>{const o=r[0],s=r[1];this.startProcessingImage(o);const n=new FileReader;n.onload=a=>{var d;if(!((d=a.target)!=null&&d.result)){this.errorProcessingImage(o);return}const l=new Image;l.src=a.target.result,l.onload=async()=>{const c=await e(s,l.width,l.height,this),i=new Image;i.src=c,i.onload=()=>{this.processedImages[o]=i,this.stopProcessingImage(o)}}},n.readAsDataURL(s)})}startProcessingImage(e){this.processingImages[e]=!0}stopProcessingImage(e){if(!this.processingImages[e])return;const r={...this.processingImages};delete r[e],this.processingImages=r}errorProcessingImage(e){this.stopProcessingImage(e);const r={...this.errorProcessingImages};r[e]=!0,this.errorProcessingImages=r}removeSelectedFile(e){const r={...this.selectedFiles};delete r[e],this.selectedFiles=r}removeProcessedImage(e){const r={...this.processedImages};delete r[e],this.processedImages=r}}be=new WeakMap,ve=new WeakMap,we=new WeakMap,xe=new WeakMap,ye=new WeakMap,_e=new WeakMap,ke=new WeakMap,Ie=new WeakMap,ze=new WeakMap,Ce=new WeakMap,Pe=new WeakMap;const Fr=new Sr,at="-",Or=t=>{const e=$r(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:a=>{const l=a.split(at);return l[0]===""&&l.length!==1&&l.shift(),Lt(l,e)||Lr(a)},getConflictingClassGroupIds:(a,l)=>{const d=r[a]||[];return l&&o[a]?[...d,...o[a]]:d}}},Lt=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],o=e.nextPart.get(r),s=o?Lt(t.slice(1),o):void 0;if(s)return s;if(e.validators.length===0)return;const n=t.join(at);return(a=e.validators.find(({validator:l})=>l(n)))==null?void 0:a.classGroupId},_t=/^\[(.+)\]$/,Lr=t=>{if(_t.test(t)){const e=_t.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},$r=t=>{const{theme:e,classGroups:r}=t,o={nextPart:new Map,validators:[]};for(const s in r)Ye(r[s],o,s,e);return o},Ye=(t,e,r,o)=>{t.forEach(s=>{if(typeof s=="string"){const n=s===""?e:kt(e,s);n.classGroupId=r;return}if(typeof s=="function"){if(Nr(s)){Ye(s(o),e,r,o);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([n,a])=>{Ye(a,kt(e,n),r,o)})})},kt=(t,e)=>{let r=t;return e.split(at).forEach(o=>{r.nextPart.has(o)||r.nextPart.set(o,{nextPart:new Map,validators:[]}),r=r.nextPart.get(o)}),r},Nr=t=>t.isThemeGetter,jr=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,o=new Map;const s=(n,a)=>{r.set(n,a),e++,e>t&&(e=0,o=r,r=new Map)};return{get(n){let a=r.get(n);if(a!==void 0)return a;if((a=o.get(n))!==void 0)return s(n,a),a},set(n,a){r.has(n)?r.set(n,a):s(n,a)}}},Ke="!",Je=":",Gr=Je.length,Ur=t=>{const{prefix:e,experimentalParseClassName:r}=t;let o=s=>{const n=[];let a=0,l=0,d=0,c;for(let h=0;h<s.length;h++){let w=s[h];if(a===0&&l===0){if(w===Je){n.push(s.slice(d,h)),d=h+Gr;continue}if(w==="/"){c=h;continue}}w==="["?a++:w==="]"?a--:w==="("?l++:w===")"&&l--}const i=n.length===0?s:s.substring(d),y=Br(i),u=y!==i,g=c&&c>d?c-d:void 0;return{modifiers:n,hasImportantModifier:u,baseClassName:y,maybePostfixModifierPosition:g}};if(e){const s=e+Je,n=o;o=a=>a.startsWith(s)?n(a.substring(s.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:a,maybePostfixModifierPosition:void 0}}if(r){const s=o;o=n=>r({className:n,parseClassName:s})}return o},Br=t=>t.endsWith(Ke)?t.substring(0,t.length-1):t.startsWith(Ke)?t.substring(1):t,Vr=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(o=>[o,!0]));return o=>{if(o.length<=1)return o;const s=[];let n=[];return o.forEach(a=>{a[0]==="["||e[a]?(s.push(...n.sort(),a),n=[]):n.push(a)}),s.push(...n.sort()),s}},Wr=t=>({cache:jr(t.cacheSize),parseClassName:Ur(t),sortModifiers:Vr(t),...Or(t)}),Dr=/\s+/,Hr=(t,e)=>{const{parseClassName:r,getClassGroupId:o,getConflictingClassGroupIds:s,sortModifiers:n}=e,a=[],l=t.trim().split(Dr);let d="";for(let c=l.length-1;c>=0;c-=1){const i=l[c],{isExternal:y,modifiers:u,hasImportantModifier:g,baseClassName:h,maybePostfixModifierPosition:w}=r(i);if(y){d=i+(d.length>0?" "+d:d);continue}let z=!!w,k=o(z?h.substring(0,w):h);if(!k){if(!z){d=i+(d.length>0?" "+d:d);continue}if(k=o(h),!k){d=i+(d.length>0?" "+d:d);continue}z=!1}const I=n(u).join(":"),x=g?I+Ke:I,b=x+k;if(a.includes(b))continue;a.push(b);const _=s(k,z);for(let f=0;f<_.length;++f){const v=_[f];a.push(x+v)}d=i+(d.length>0?" "+d:d)}return d};function qr(){let t=0,e,r,o="";for(;t<arguments.length;)(e=arguments[t++])&&(r=$t(e))&&(o&&(o+=" "),o+=r);return o}const $t=t=>{if(typeof t=="string")return t;let e,r="";for(let o=0;o<t.length;o++)t[o]&&(e=$t(t[o]))&&(r&&(r+=" "),r+=e);return r};function Xr(t,...e){let r,o,s,n=a;function a(d){const c=e.reduce((i,y)=>y(i),t());return r=Wr(c),o=r.cache.get,s=r.cache.set,n=l,l(d)}function l(d){const c=o(d);if(c)return c;const i=Hr(d,r);return s(d,i),i}return function(){return n(qr.apply(null,arguments))}}const N=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},Nt=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,jt=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Yr=/^\d+\/\d+$/,Kr=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jr=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Qr=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zr=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eo=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ue=t=>Yr.test(t),P=t=>!!t&&!Number.isNaN(Number(t)),ae=t=>!!t&&Number.isInteger(Number(t)),It=t=>t.endsWith("%")&&P(t.slice(0,-1)),re=t=>Kr.test(t),to=()=>!0,ro=t=>Jr.test(t)&&!Qr.test(t),nt=()=>!1,oo=t=>Zr.test(t),so=t=>eo.test(t),ao=t=>!p(t)&&!m(t),no=t=>fe(t,Bt,nt),p=t=>Nt.test(t),ne=t=>fe(t,Vt,ro),De=t=>fe(t,vo,P),io=t=>fe(t,Gt,nt),lo=t=>fe(t,Ut,so),co=t=>fe(t,nt,oo),m=t=>jt.test(t),Se=t=>he(t,Vt),uo=t=>he(t,wo),fo=t=>he(t,Gt),ho=t=>he(t,Bt),go=t=>he(t,Ut),po=t=>he(t,xo,!0),fe=(t,e,r)=>{const o=Nt.exec(t);return o?o[1]?e(o[1]):r(o[2]):!1},he=(t,e,r=!1)=>{const o=jt.exec(t);return o?o[1]?e(o[1]):r:!1},Gt=t=>t==="position",mo=new Set(["image","url"]),Ut=t=>mo.has(t),bo=new Set(["length","size","percentage"]),Bt=t=>bo.has(t),Vt=t=>t==="length",vo=t=>t==="number",wo=t=>t==="family-name",xo=t=>t==="shadow",yo=()=>{const t=N("color"),e=N("font"),r=N("text"),o=N("font-weight"),s=N("tracking"),n=N("leading"),a=N("breakpoint"),l=N("container"),d=N("spacing"),c=N("radius"),i=N("shadow"),y=N("inset-shadow"),u=N("drop-shadow"),g=N("blur"),h=N("perspective"),w=N("aspect"),z=N("ease"),k=N("animate"),I=()=>["auto","avoid","all","avoid-page","page","left","right","column"],x=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],b=()=>["auto","hidden","clip","visible","scroll"],_=()=>["auto","contain","none"],f=()=>[m,p,d],v=()=>[ue,"full","auto",...f()],A=()=>[ae,"none","subgrid",m,p],F=()=>["auto",{span:["full",ae,m,p]},m,p],D=()=>[ae,"auto",m,p],$=()=>["auto","min","max","fr",m,p],Q=()=>["start","end","center","between","around","evenly","stretch","baseline"],Y=()=>["start","end","center","stretch"],V=()=>["auto",...f()],W=()=>[ue,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...f()],T=()=>[t,m,p],Z=()=>[It,ne],E=()=>["","none","full",c,m,p],G=()=>["",P,Se,ne],Ae=()=>["solid","dashed","dotted","double"],lt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ct=()=>["","none",g,m,p],dt=()=>["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",m,p],Te=()=>["none",P,m,p],Ee=()=>["none",P,m,p],Ue=()=>[P,m,p],Re=()=>[ue,"full",...f()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[re],breakpoint:[re],color:[to],container:[re],"drop-shadow":[re],ease:["in","out","in-out"],font:[ao],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[re],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[re],shadow:[re],spacing:["px",P],text:[re],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",ue,p,m,w]}],container:["container"],columns:[{columns:[P,p,m,l]}],"break-after":[{"break-after":I()}],"break-before":[{"break-before":I()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...x(),p,m]}],overflow:[{overflow:b()}],"overflow-x":[{"overflow-x":b()}],"overflow-y":[{"overflow-y":b()}],overscroll:[{overscroll:_()}],"overscroll-x":[{"overscroll-x":_()}],"overscroll-y":[{"overscroll-y":_()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:v()}],"inset-x":[{"inset-x":v()}],"inset-y":[{"inset-y":v()}],start:[{start:v()}],end:[{end:v()}],top:[{top:v()}],right:[{right:v()}],bottom:[{bottom:v()}],left:[{left:v()}],visibility:["visible","invisible","collapse"],z:[{z:[ae,"auto",m,p]}],basis:[{basis:[ue,"full","auto",l,...f()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[P,ue,"auto","initial","none",p]}],grow:[{grow:["",P,m,p]}],shrink:[{shrink:["",P,m,p]}],order:[{order:[ae,"first","last","none",m,p]}],"grid-cols":[{"grid-cols":A()}],"col-start-end":[{col:F()}],"col-start":[{"col-start":D()}],"col-end":[{"col-end":D()}],"grid-rows":[{"grid-rows":A()}],"row-start-end":[{row:F()}],"row-start":[{"row-start":D()}],"row-end":[{"row-end":D()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":$()}],"auto-rows":[{"auto-rows":$()}],gap:[{gap:f()}],"gap-x":[{"gap-x":f()}],"gap-y":[{"gap-y":f()}],"justify-content":[{justify:[...Q(),"normal"]}],"justify-items":[{"justify-items":[...Y(),"normal"]}],"justify-self":[{"justify-self":["auto",...Y()]}],"align-content":[{content:["normal",...Q()]}],"align-items":[{items:[...Y(),"baseline"]}],"align-self":[{self:["auto",...Y(),"baseline"]}],"place-content":[{"place-content":Q()}],"place-items":[{"place-items":[...Y(),"baseline"]}],"place-self":[{"place-self":["auto",...Y()]}],p:[{p:f()}],px:[{px:f()}],py:[{py:f()}],ps:[{ps:f()}],pe:[{pe:f()}],pt:[{pt:f()}],pr:[{pr:f()}],pb:[{pb:f()}],pl:[{pl:f()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":f()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":f()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[l,"screen",...W()]}],"min-w":[{"min-w":[l,"screen","none",...W()]}],"max-w":[{"max-w":[l,"screen","none","prose",{screen:[a]},...W()]}],h:[{h:["screen",...W()]}],"min-h":[{"min-h":["screen","none",...W()]}],"max-h":[{"max-h":["screen",...W()]}],"font-size":[{text:["base",r,Se,ne]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,m,De]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",It,p]}],"font-family":[{font:[uo,p,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,m,p]}],"line-clamp":[{"line-clamp":[P,"none",m,De]}],leading:[{leading:[n,...f()]}],"list-image":[{"list-image":["none",m,p]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",m,p]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:T()}],"text-color":[{text:T()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[P,"from-font","auto",m,ne]}],"text-decoration-color":[{decoration:T()}],"underline-offset":[{"underline-offset":[P,"auto",m,p]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:f()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",m,p]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",m,p]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...x(),fo,io]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","space","round"]}]}],"bg-size":[{bg:["auto","cover","contain",ho,no]}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ae,m,p],radial:["",m,p],conic:[ae,m,p]},go,lo]}],"bg-color":[{bg:T()}],"gradient-from-pos":[{from:Z()}],"gradient-via-pos":[{via:Z()}],"gradient-to-pos":[{to:Z()}],"gradient-from":[{from:T()}],"gradient-via":[{via:T()}],"gradient-to":[{to:T()}],rounded:[{rounded:E()}],"rounded-s":[{"rounded-s":E()}],"rounded-e":[{"rounded-e":E()}],"rounded-t":[{"rounded-t":E()}],"rounded-r":[{"rounded-r":E()}],"rounded-b":[{"rounded-b":E()}],"rounded-l":[{"rounded-l":E()}],"rounded-ss":[{"rounded-ss":E()}],"rounded-se":[{"rounded-se":E()}],"rounded-ee":[{"rounded-ee":E()}],"rounded-es":[{"rounded-es":E()}],"rounded-tl":[{"rounded-tl":E()}],"rounded-tr":[{"rounded-tr":E()}],"rounded-br":[{"rounded-br":E()}],"rounded-bl":[{"rounded-bl":E()}],"border-w":[{border:G()}],"border-w-x":[{"border-x":G()}],"border-w-y":[{"border-y":G()}],"border-w-s":[{"border-s":G()}],"border-w-e":[{"border-e":G()}],"border-w-t":[{"border-t":G()}],"border-w-r":[{"border-r":G()}],"border-w-b":[{"border-b":G()}],"border-w-l":[{"border-l":G()}],"divide-x":[{"divide-x":G()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":G()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:T()}],"border-color-x":[{"border-x":T()}],"border-color-y":[{"border-y":T()}],"border-color-s":[{"border-s":T()}],"border-color-e":[{"border-e":T()}],"border-color-t":[{"border-t":T()}],"border-color-r":[{"border-r":T()}],"border-color-b":[{"border-b":T()}],"border-color-l":[{"border-l":T()}],"divide-color":[{divide:T()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[P,m,p]}],"outline-w":[{outline:["",P,Se,ne]}],"outline-color":[{outline:[t]}],shadow:[{shadow:["","none",i,po,co]}],"shadow-color":[{shadow:T()}],"inset-shadow":[{"inset-shadow":["none",m,p,y]}],"inset-shadow-color":[{"inset-shadow":T()}],"ring-w":[{ring:G()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:T()}],"ring-offset-w":[{"ring-offset":[P,ne]}],"ring-offset-color":[{"ring-offset":T()}],"inset-ring-w":[{"inset-ring":G()}],"inset-ring-color":[{"inset-ring":T()}],opacity:[{opacity:[P,m,p]}],"mix-blend":[{"mix-blend":[...lt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":lt()}],filter:[{filter:["","none",m,p]}],blur:[{blur:ct()}],brightness:[{brightness:[P,m,p]}],contrast:[{contrast:[P,m,p]}],"drop-shadow":[{"drop-shadow":["","none",u,m,p]}],grayscale:[{grayscale:["",P,m,p]}],"hue-rotate":[{"hue-rotate":[P,m,p]}],invert:[{invert:["",P,m,p]}],saturate:[{saturate:[P,m,p]}],sepia:[{sepia:["",P,m,p]}],"backdrop-filter":[{"backdrop-filter":["","none",m,p]}],"backdrop-blur":[{"backdrop-blur":ct()}],"backdrop-brightness":[{"backdrop-brightness":[P,m,p]}],"backdrop-contrast":[{"backdrop-contrast":[P,m,p]}],"backdrop-grayscale":[{"backdrop-grayscale":["",P,m,p]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[P,m,p]}],"backdrop-invert":[{"backdrop-invert":["",P,m,p]}],"backdrop-opacity":[{"backdrop-opacity":[P,m,p]}],"backdrop-saturate":[{"backdrop-saturate":[P,m,p]}],"backdrop-sepia":[{"backdrop-sepia":["",P,m,p]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":f()}],"border-spacing-x":[{"border-spacing-x":f()}],"border-spacing-y":[{"border-spacing-y":f()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",m,p]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[P,"initial",m,p]}],ease:[{ease:["linear","initial",z,m,p]}],delay:[{delay:[P,m,p]}],animate:[{animate:["none",k,m,p]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[h,m,p]}],"perspective-origin":[{"perspective-origin":dt()}],rotate:[{rotate:Te()}],"rotate-x":[{"rotate-x":Te()}],"rotate-y":[{"rotate-y":Te()}],"rotate-z":[{"rotate-z":Te()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Ue()}],"skew-x":[{"skew-x":Ue()}],"skew-y":[{"skew-y":Ue()}],transform:[{transform:[m,p,"","none","gpu","cpu"]}],"transform-origin":[{origin:dt()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Re()}],"translate-x":[{"translate-x":Re()}],"translate-y":[{"translate-y":Re()}],"translate-z":[{"translate-z":Re()}],"translate-none":["translate-none"],accent:[{accent:T()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:T()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",m,p]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":f()}],"scroll-mx":[{"scroll-mx":f()}],"scroll-my":[{"scroll-my":f()}],"scroll-ms":[{"scroll-ms":f()}],"scroll-me":[{"scroll-me":f()}],"scroll-mt":[{"scroll-mt":f()}],"scroll-mr":[{"scroll-mr":f()}],"scroll-mb":[{"scroll-mb":f()}],"scroll-ml":[{"scroll-ml":f()}],"scroll-p":[{"scroll-p":f()}],"scroll-px":[{"scroll-px":f()}],"scroll-py":[{"scroll-py":f()}],"scroll-ps":[{"scroll-ps":f()}],"scroll-pe":[{"scroll-pe":f()}],"scroll-pt":[{"scroll-pt":f()}],"scroll-pr":[{"scroll-pr":f()}],"scroll-pb":[{"scroll-pb":f()}],"scroll-pl":[{"scroll-pl":f()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",m,p]}],fill:[{fill:["none",...T()]}],"stroke-w":[{stroke:[P,Se,ne,De]}],stroke:[{stroke:["none",...T()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["before","after","placeholder","file","marker","selection","first-line","first-letter","backdrop","*","**"]}},Wt=Xr(yo);var _o=U("<button><!></button>");function Qe(t,e){tt(e,!0);let r=Fe(e,"type",3,"button"),o=Fe(e,"size",3,"md"),s=Fe(e,"variant",3,"neutral"),n=st(e,["$$slots","$$events","$$legacy","children","type","size","variant","class"]);var a=_o();let l;var d=j(a);{var c=i=>{var y=$e(),u=J(y);Ne(u,()=>e.children),S(i,y)};de(d,i=>{e.children&&i(c)})}O(a),X(i=>l=ot(a,l,{type:r(),class:i,...n}),[()=>Wt("cursor-pointer transition-all","border-black-app rounded-lg border-2","text-black-app font-bold","disabled:cursor-not-allowed disabled:bg-zinc-400 disabled:opacity-80",o()=="xs"&&"shadow-nb-xs hover:shadow-nb-xxs min-h-6 px-2 text-sm leading-4",o()=="sm"&&"shadow-nb-sm hover:shadow-nb-xs min-h-8 px-2 leading-5",o()=="md"&&"shadow-nb-md hover:shadow-nb-sm min-h-10 px-3 leading-6",o()=="lg"&&"shadow-nb-md hover:shadow-nb-sm min-h-12 px-4 text-lg leading-7",s()=="neutral"&&"bg-white-app hover:bg-black-app/5 active:bg-black-app/10",s()=="error"&&"bg-error-400 hover:bg-error-500 active:bg-error-600/90",s()=="success"&&"bg-success-400 hover:bg-success-500 active:bg-success-600/90",s()=="info"&&"bg-info-400 hover:bg-info-500 active:bg-info-600/90",e.class)]),S(t,a),rt()}const ko=t=>t;function zt(t,{delay:e=0,duration:r=400,easing:o=ko}={}){const s=+getComputedStyle(t).opacity;return{delay:e,duration:r,easing:o,css:n=>`opacity: ${n*s}`}}var Io=U('<h2 class="text-xl font-bold"> </h2>'),zo=U("<section><!> <!></section>");function me(t,e){tt(e,!0);var r=zo(),o=j(r);{var s=a=>{var l=Io(),d=j(l,!0);O(l),X(()=>ce(d,e.header)),S(a,l)};de(o,a=>{e.header&&a(s)})}var n=R(o,2);Ne(n,()=>e.children),O(r),X(a=>je(r,1,Ge(a)),[()=>Wt("bg-white-app border-black-app shadow-nb-md mb-4 flex flex-col gap-2 rounded-lg border-2 p-2",e.class)]),yt(5,r,()=>zt,()=>({duration:e.animated?250:0})),yt(6,r,()=>zt,()=>({duration:e.animated?250:0})),S(t,r),rt()}var Co=U('<input> <label class="absolute inset-0 z-10 flex cursor-pointer items-center justify-center">Wybierz pliki</label>',1),Po=U("<div><!> <!></div>");function Ao(t,e){let r=st(e,["$$slots","$$events","$$legacy","children","id","containerClass","class"]);var o=Po(),s=j(o);Qe(s,{class:"relative w-full",children:(l,d)=>{var c=Co(),i=J(c);St(i);let y;var u=R(i,2);X(()=>{y=ot(i,y,{id:e.id,type:"file",hidden:!0,class:["mt-1 h-full w-full","text-base sm:leading-6","transition-all focus:ring-0","outline-none","bg-white-app focus:bg-white-app/60",e.class],...r}),ee(u,"for",e.id)}),S(l,c)},$$slots:{default:!0}});var n=R(s,2);{var a=l=>{var d=$e(),c=J(d);Ne(c,()=>e.children),S(l,d)};de(n,l=>{e.children&&l(a)})}O(o),X(()=>je(o,1,Ge(e.containerClass))),S(t,o)}var To=U('<div><label class="block leading-6 font-semibold"> </label> <input> <!></div>');function ie(t,e){let r=st(e,["$$slots","$$events","$$legacy","children","id","label","containerClass","class"]);var o=To(),s=j(o),n=j(s,!0);O(s);var a=R(s,2);St(a);let l;var d=R(a,2);{var c=i=>{var y=$e(),u=J(y);Ne(u,()=>e.children),S(i,y)};de(d,i=>{e.children&&i(c)})}O(o),X(()=>{je(o,1,Ge(e.containerClass)),ee(s,"for",e.id),ce(n,e.label),l=ot(a,l,{id:e.id,class:["mt-1 block w-full","text-base sm:leading-6","shadow-nb-md focus:shadow-nb-sm transition-all focus:ring-0","border-black-app focus:border-accent-500 rounded-lg border-2 outline-none","bg-white-app focus:bg-white-app/60",e.class],...r})}),S(t,o)}var Eo=Yt('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"></path><path d="M18 6l-12 12"></path><path d="M6 6l12 12"></path></svg>');function Ct(t,e){const r=Fe(e,"size",3,24);var o=Eo();X(()=>{ee(o,"width",r()),ee(o,"height",r()),je(o,0,Ge(e.class))}),S(t,o)}class Le{constructor(e){se(this,"canvas");se(this,"context");se(this,"_quality",1);se(this,"textStyle");this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d");const r={rotation:(e==null?void 0:e.rotation)||0,weight:(e==null?void 0:e.weight)||"bold",family:(e==null?void 0:e.family)||"serif",size:(e==null?void 0:e.size)||"24px",color:(e==null?void 0:e.color)||"#000000",baseline:(e==null?void 0:e.baseline)||"middle"};this.textStyle=r}static create(e){return new Le(e==null?void 0:e.textStyle)}setDimensions(e,r){return this.canvas.width=e,this.canvas.height=r,this}drawOriginal(e,r,o){return this.context.drawImage(e,r,o,this.canvas.width,this.canvas.height),this}drawWatermarkImage(e,r,o,s,n){return this.context.drawImage(e,r,o,s,n),this}applyTextStyles(){return this.context.fillStyle=this.textStyle.color,this.context.textBaseline=this.textStyle.baseline,this.context.font=`${this.textStyle.weight} ${this.textStyle.size} ${this.textStyle.family}`,this}drawWatermarkText(e,r,o){return this.textStyle.rotation?(this.context.save(),this.context.textAlign="center",this.context.textBaseline="bottom",this.context.translate(r,o),this.context.rotate(this.textStyle.rotation*Math.PI/180),this.context.fillText(e,0,0),this.context.restore()):this.context.fillText(e,r,o),this}result(e){this.context.canvas.toBlob(r=>{e(r)},"image/jpeg",this._quality)}}function Pt({position:t,imageDimensions:e,watermarkDimensions:r,watermarkIsText:o}){const s=e.height-r.height,n=e.width-r.width,a=s/2,l=n/2,d=o?r.height*3+10:0,c=o?s-r.height*2:s;return{"top-left":{x:0,y:d},"top-center":{x:l,y:d},"top-right":{x:n,y:d},center:{x:l,y:a},"center-left":{x:0,y:a},"center-right":{x:n,y:a},"bottom-center":{x:l,y:c},"bottom-left":{x:0,y:c},"bottom-right":{x:n,y:c}}[t]}class it{constructor(e){se(this,"_image");se(this,"_original");this._original=e,this._image=Object.assign(e,{previewUrl:""})}static load(e){return new it(e)}get original(){return this._original}get result(){return this._image}getCoordinates(e,r){return e&&r.portrait?r.portrait:!e&&r.landscape?r.landscape:r}async applyImage({path:e,coordinates:r,position:o}){const n=await new Promise((a,l)=>{const d=Le.create(),c=document.createElement("img");c.src=URL.createObjectURL(this._image),c.onload=async()=>{d.setDimensions(c.width,c.height),d.drawOriginal(c,0,0);const y=await(await fetch(e)).blob(),u=await createImageBitmap(y),g=c.height>c.width;let h={x:0,y:0};return r&&!o&&(h=this.getCoordinates(g,r)),o&&(h=Pt({position:o,imageDimensions:{height:c.height,width:c.width},watermarkDimensions:{height:u.height,width:u.width},watermarkIsText:!1})),d.drawWatermarkImage(u,h.x,h.y,u.width,u.height),d.result(w=>a(w))},c.onerror=()=>l(new Error(`${this._image.name} has invalid image format.`))});if(!n)throw new Error(`an error has occured on ${this._image.name}`);return this._image=Object.assign(n,{name:n.name,previewUrl:URL.createObjectURL(n)}),this}async applyText({text:e,coordinates:r,style:o,position:s}){const a=await new Promise((l,d)=>{const c=Le.create({textStyle:o}),i=document.createElement("img");i.src=URL.createObjectURL(this._image),i.onload=async()=>{c.setDimensions(i.width,i.height),c.drawOriginal(i,0,0);const y=i.height>i.width;let u={x:0,y:0};r&&!s&&(u=this.getCoordinates(y,r)),c.applyTextStyles();const g=c.context.measureText(e),h=g.fontBoundingBoxAscent-g.fontBoundingBoxDescent,w=g.width;return s&&(u=Pt({position:s,imageDimensions:{height:i.height,width:i.width},watermarkDimensions:{height:h,width:w},watermarkIsText:!0})),c.drawWatermarkText(e,u.x,u.y),c.result(z=>l(z))},i.onerror=()=>d(new Error(`${this._image.name} has invalid image format.`))});if(!a)throw new Error(`an error has occured on ${this._image.name}`);return this._image=Object.assign(a,{name:a.name,previewUrl:URL.createObjectURL(a)}),this}}var C=Mr(()=>Fr),Ro=U('<p class="text-right"> </p>'),Mo=U('<p class="text-right"> </p>'),So=U('<!> <div class="flex flex-row gap-2 px-2"><!> <!></div> <div class="flex flex-row gap-2 px-2"><!> <!></div> <div class="flex flex-row gap-2 px-2"><!> <!></div> <p class="example text-center drop-shadow-[0_2px_2px_rgba(0,0,0)] transition-all svelte-1pytehp"> </p>',1),Fo=U("<p>Przetwarzanie</p>"),Oo=U('<p class="text-error-600">Błąd</p>'),Lo=U('<div class="flex flex-row justify-between gap-2"><h4> </h4> <!> <!> <button class="hover:text-black-app/70 grid cursor-pointer place-items-center rounded-full p-0" aria-label="Usuń" title="Usuń"><!></button></div> <img class="shadow-nb-sm mx-auto object-cover" width="190" height="190">',1),$o=U('<h3 class="mt-1 font-semibold">Wybrane</h3> <div class="grid grid-cols-1 gap-2 sm:grid-cols-2 md:grid-cols-3"></div> <!>',1),No=U("<!> <!>",1),jo=U('<div class="flex flex-row justify-between gap-2"><h4> </h4> <button class="hover:text-black-app/70 grid cursor-pointer place-items-center rounded-full p-0" aria-label="Usuń" title="Usuń"><!></button></div> <img class="shadow-nb-md mx-auto mb-0.5 object-cover" width="600" height="480"> <!>',1),Go=U("<!> <!> <!>",1);function Yo(t,e){tt(e,!1);const r=async(l,d,c,i)=>{const{watermarkText:y,textColor:u,textSize:g,x:h,y:w,textOpacity:z,rotation:k}=i,I=d*h,x=c*w,b=d*(g/571),_=20+I,f=c-b+20+-x,v=Math.floor(z/100*255).toString(16),A=it.load(l);return await A.applyText({text:y,coordinates:{x:_,y:f},style:{size:`${b}px`,family:"Architects Daughter",color:`${u}${v}`,weight:400,rotation:k}}),A.result.previewUrl};Jt();var o=Go(),s=J(o);me(s,{header:"Konfiguracja znaku wodnego",class:"container mx-auto",children:(l,d)=>{var c=So(),i=J(c);ie(i,{id:"ww-name",label:"Nazwa",type:"text",containerClass:"px-2",get value(){return C().watermarkText},onchange:f=>{var v;return C(C().watermarkText=(v=f.target)==null?void 0:v.value)}});var y=R(i,2),u=j(y);ie(u,{id:"ww-x",label:"X (%)",type:"number",step:"0.01",max:"1",min:"0",containerClass:"flex-1",get value(){return C().x},onchange:f=>{var v;return C(C().x=parseFloat((v=f.target)==null?void 0:v.value))}});var g=R(u,2);ie(g,{id:"ww-y",label:"Y (%)",type:"number",step:"0.01",max:"1",min:"0",containerClass:"flex-1",get value(){return C().y},onchange:f=>{var v;return C(C().y=parseFloat((v=f.target)==null?void 0:v.value))}}),O(y);var h=R(y,2),w=j(h);ie(w,{id:"ww-color",label:"Kolor",type:"color",class:"cursor-pointer",containerClass:"flex-1",get value(){return C().textColor},onchange:f=>{var v;return C(C().textColor=(v=f.target)==null?void 0:v.value)}});var z=R(w,2);ie(z,{id:"ww-opacity",label:"Rotacja",type:"range",min:"0",max:"360",class:"cursor-pointer shadow-none focus:shadow-none",containerClass:"flex-1",get value(){return C().rotation},oninput:f=>{var v;return C(C().rotation=parseInt((v=f.target)==null?void 0:v.value))},children:(f,v)=>{var A=Ro(),F=j(A);O(A),X(()=>ce(F,`${C().rotation??""} stopni`)),S(f,A)},$$slots:{default:!0}}),O(h);var k=R(h,2),I=j(k);ie(I,{id:"ww-size",label:"Rozmiar",type:"number",step:"1",containerClass:"flex-1",get value(){return C().textSize},onchange:f=>{var v;return C(C().textSize=parseInt((v=f.target)==null?void 0:v.value))}});var x=R(I,2);ie(x,{id:"ww-opacity",label:"Przezroczystość",type:"range",class:"cursor-pointer shadow-none focus:shadow-none",containerClass:"flex-1",get value(){return C().textOpacity},oninput:f=>{var v;return C(C().textOpacity=parseFloat((v=f.target)==null?void 0:v.value))},children:(f,v)=>{var A=Mo(),F=j(A);O(A),X(()=>ce(F,`${C().textOpacity??""}%`)),S(f,A)},$$slots:{default:!0}}),O(k);var b=R(k,2),_=j(b,!0);O(b),X(f=>{ee(b,"style",f),ce(_,C().watermarkText)},[()=>`color:${C().textColor};font-size:${Math.max(Math.min(80,C().textSize),20)}px;opacity:${C().textOpacity}%;`],He),S(l,c)},$$slots:{default:!0}});var n=R(s,2);me(n,{header:"Wybierz zdjęcia",class:"container mx-auto",children:(l,d)=>{var c=No(),i=J(c);Ao(i,{id:"ww-files",multiple:!0,containerClass:"px-2",accept:"image/png, image/webp, image/jpeg",onchange:g=>{var h;return C().selectFiles((h=g.target)==null?void 0:h.files)}});var y=R(i,2);{var u=g=>{var h=$o(),w=R(J(h),2);vt(w,5,()=>Object.entries(C().selectedFiles),([k,I])=>k,(k,I)=>{let x=()=>L(I)[0],b=()=>L(I)[1];me(k,{animated:!0,children:(_,f)=>{var v=Lo(),A=J(v),F=j(A),D=j(F,!0);O(F);var $=R(F,2);{var Q=E=>{var G=Fo();S(E,G)};de($,E=>{C().processingImages[x()]&&E(Q)})}var Y=R($,2);{var V=E=>{var G=Oo();S(E,G)};de(Y,E=>{C().errorProcessingImages[x()]&&E(V)})}var W=R(Y,2);W.__click=E=>C().removeSelectedFile(x());var T=j(W);Ct(T,{size:24}),O(W),O(A);var Z=R(A,2);X(E=>{ce(D,b().name),ee(Z,"src",E),ee(Z,"alt",`Zdjęcie ${b().name}`)},[()=>URL.createObjectURL(b())],He),S(_,v)},$$slots:{default:!0}})}),O(w);var z=R(w,2);Qe(z,{onclick:k=>C().processImages(r),children:(k,I)=>{bt();var x=ft("Dodaj znaki wodne");S(k,x)},$$slots:{default:!0}}),S(g,h)};de(y,g=>{Object.keys(C().selectedFiles).length>0&&g(u)})}S(l,c)},$$slots:{default:!0}});var a=R(n,2);me(a,{header:"Pobierz zdjęcia",class:"container mx-auto",children:(l,d)=>{var c=$e(),i=J(c);vt(i,1,()=>Object.entries(C().processedImages),([y,u])=>y,(y,u)=>{let g=()=>L(u)[0],h=()=>L(u)[1];me(y,{animated:!0,children:(w,z)=>{var k=jo(),I=J(k),x=j(I),b=j(x,!0);O(x);var _=R(x,2);_.__click=F=>C().removeProcessedImage(g());var f=j(_);Ct(f,{size:24}),O(_),O(I);var v=R(I,2),A=R(v,2);Qe(A,{onclick:F=>{const D=C().selectedFiles[g()],$=document.createElement("a");$.download=`znak_${D.name}`,$.href=h().src,$.click(),$.remove()},children:(F,D)=>{bt();var $=ft("Pobierz");S(F,$)},$$slots:{default:!0}}),X(()=>{ce(b,C().selectedFiles[g()].name),ee(v,"src",h().src),ee(v,"alt",`Przetworzone zdjęcie ${C().selectedFiles[g()].name}`)}),S(w,k)},$$slots:{default:!0}})}),S(l,c)},$$slots:{default:!0}}),S(t,o),rt()}Kt(["click"]);export{Yo as component};
